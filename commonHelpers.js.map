{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function createRequest(data) {\n    const params = new URLSearchParams({\n        key: \"43244654-6a0ffb606fc9a226d05679f88\",\n        q: data,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\"\n    });\n\n    return fetch(`https://pixabay.com/api/?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(\"Sorry, there are no images matching your search query. Please try again!\")\n            }\n            return response.json();\n    })\n}","\nexport function createGallery(arr) {\n    return arr.map(({ webformatURL,largeImageURL,tags, likes, views, comments, downloads }) => \n            `<li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${largeImageURL}\" >\n                   <img\n                     class = \"gallery-image\"\n                     src = \"${webformatURL}\"\n                     alt = \"${tags}\"\n                     />\n                 </a>\n                 <div class = \"img-inform-wrapper\">\n                 <div class = \"img-inform\">\n                 <h2 class =\"img-title\">Likes</h2>\n                 <p class = \"img-text\">${likes}</p>\n                 </div>\n                  <div class = \"img-inform\">\n                 <h2 class =\"img-title\">Views</h2>\n                 <p class = \"img-text\">${views}</p>\n                 </div>\n                  <div class = \"img-inform\">\n                 <h2 class =\"img-title\">Comments</h2>\n                 <p class = \"img-text\">${comments}</p>\n                 </div>\n                  <div class = \"img-inform\">\n                 <h2 class =\"img-title\">Downloads</h2>\n                 <p class = \"img-text\">${downloads}</p>\n                 </div></div>\n            </li>`)\n        .join(\"\");\n}\n\nexport function showLoading(element) {\n    element.style.display = \"block\";\n}\n\nexport function hideLoading(element) {\n    element.style.display = \"none\";\n}\n","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { createRequest } from \"./js/pixabay-api\";\nimport { createGallery } from \"./js/render-functions\";\nimport { showLoading } from \"./js/render-functions\";\nimport { hideLoading } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loading-indicator\");\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n     gallery.innerHTML = \"\";\n    const dataSearch = event.currentTarget.elements.data.value.trim();\n    if (dataSearch === \"\") {\n            return iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n             position: \"topRight\"\n            });\n    };\n     showLoading(loader);\n    createRequest(dataSearch)\n        .then(data => {\n            if (data.hits.length === 0) {\n                hideLoading(loader);\n                return iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                 position: \"topRight\"\n                })\n            }\n            form.reset();\n           \n            gallery.innerHTML = createGallery(data.hits);\n            lightboxGallery.refresh();\n        })\n        .catch(error => {\n            iziToast.error({\n               message: `${error}`,\n            });\n        })\n        .finally(() => {\n           \n             hideLoading(loader);\n    })\n}\n\nlet lightboxGallery = new SimpleLightbox('.gallery a', {\n    captionsData: \"alt\",\n    captionsPosition: \"bottom\",\n    captionsDelay: 250\n});\n\n"],"names":["createRequest","data","params","response","createGallery","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showLoading","element","hideLoading","form","gallery","loader","handleSubmit","event","dataSearch","iziToast","lightboxGallery","error","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAcC,EAAM,CAChC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,EAED,OAAO,MAAM,4BAA4BC,CAAM,EAAE,EAC5C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,0EAA0E,EAE9F,OAAOA,EAAS,MAC5B,CAAK,CACL,CCfO,SAASC,EAAcC,EAAK,CAC/B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAa,cAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAC9E;AAAA,gDACoCL,CAAa;AAAA;AAAA;AAAA,8BAG/BD,CAAY;AAAA,8BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMOC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yCAIRC,CAAS;AAAA;AAAA,kBAEhC,EACT,KAAK,EAAE,CAChB,CAEO,SAASC,EAAYC,EAAS,CACjCA,EAAQ,MAAM,QAAU,OAC5B,CAEO,SAASC,EAAYD,EAAS,CACjCA,EAAQ,MAAM,QAAU,MAC5B,CC3BA,MAAME,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,oBAAoB,EAE1DF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACnBH,EAAQ,UAAY,GACrB,MAAMI,EAAaD,EAAM,cAAc,SAAS,KAAK,MAAM,OAC3D,GAAIC,IAAe,GACX,OAAOC,EAAS,MAAM,CACtB,QAAS,2EACR,SAAU,UACvB,CAAa,EAERT,EAAYK,CAAM,EACnBlB,EAAcqB,CAAU,EACnB,KAAKpB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrB,OAAAc,EAAYG,CAAM,EACXI,EAAS,MAAM,CAClB,QAAS,2EACZ,SAAU,UAC3B,CAAiB,EAELN,EAAK,MAAK,EAEVC,EAAQ,UAAYb,EAAcH,EAAK,IAAI,EAC3CsB,EAAgB,QAAO,CACnC,CAAS,EACA,MAAMC,GAAS,CACZF,EAAS,MAAM,CACZ,QAAS,GAAGE,CAAK,EAChC,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CAEVT,EAAYG,CAAM,CAC/B,CAAK,CACL,CAEA,IAAIK,EAAkB,IAAIE,EAAe,aAAc,CACnD,aAAc,MACd,iBAAkB,SAClB,cAAe,GACnB,CAAC"}